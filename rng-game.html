<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RNG Clicker Game Full</title>
  <style>
    body{font-family:sans-serif;background:#111;color:#eee;text-align:center;padding:20px;}
    button{margin:6px;padding:10px 16px;font-size:16px;}
    .craft{margin:12px 0;}
    #notif{margin-top:10px;color:#0f0;font-weight:bold;}
  </style>
</head>
<body>
  <h1>ğŸ² RNG Clicker Full</h1>

  <div>
    <button id="rollBtn" onclick="triggerRoll()">RÃºt nguyÃªn liá»‡u</button>
    <button onclick="toggleAuto()">{{auto?'Táº¯t Auto':'Báº­t Auto'}}</button>
    <button onclick="clearAll()">XoÃ¡ kho</button>
  </div>

  <div id="stats">
    Tá»•ng roll: <span id="rollCount">0</span> |
    Luck: <span id="luck">1</span> |
    Speed: <span id="speed">1</span> |
    Delay: <span id="delay">3000</span>â€¯ms
  </div>

  <div id="notif"></div>

  <h2>ğŸ“¦ Kho nguyÃªn liá»‡u</h2>
  <ul id="inv"></ul>

  <h2>ğŸ›  Craft Ä‘á»“ (miá»…n lÃ  Ä‘á»§ nguyÃªn liá»‡u)</h2>
  <div class="craft"><button onclick="craft('Lucky Ring')">Lucky Ring</button> (2 Pha lÃª, 1 Sáº¯t â†’ +5 Luck)</div>
  <div class="craft"><button onclick="craft('Wind Boots')">Wind Boots</button> (1 ÄÃ¡, 1 Sáº¯t â†’ +3 Speed + giáº£m delay)</div>
  <div class="craft"><button onclick="craft('Soul Hat')">Soul Hat</button> (1 ÄÃ¡ quÃ½, 1 Pha lÃª â†’ +10 Luck)</div>

<script>
const rates = [
  ['ÄÃ¡ quÃ½',0.01],
  ['Pha lÃª',0.09],
  ['Sáº¯t',0.20],
  ['ÄÃ¡',0.30],
  ['Gá»—',0.40],
];
let inv={},rollCount=0,luck=1,speed=1,delay=3000,auto=false,autoTimer;

function save(){
  localStorage.setItem('rngData',JSON.stringify({inv,rollCount,luck,speed,delay}));
}
function load(){
  const d=JSON.parse(localStorage.getItem('rngData')||'{}');
  inv=d.inv||{}; rates.forEach(r=>inv[r[0]]=inv[r[0]]||0);
  rollCount=d.rollCount||0; luck=d.luck||1; speed=d.speed||1; delay=d.delay||3000;
}
function upd(){
  document.getElementById('rollCount').textContent=rollCount;
  document.getElementById('luck').textContent=luck;
  document.getElementById('speed').textContent=speed;
  document.getElementById('delay').textContent=delay;
  // inventory
  const ul = document.getElementById('inv'); ul.innerHTML='';
  for(let [name] of rates){
    const li = document.createElement('li');
    li.textContent=`${name}: ${inv[name]}`;
    ul.appendChild(li);
  }
  save();
}

function doRoll(){
  rollCount++;
  let r=Math.random(),sum=0,item='Gá»—';
  for(let [name,rate] of rates){
    const adj=rate * (name!=='ÄÃ¡ quÃ½'? (1 + luck/100):1);
    sum+=adj;
    if(r<sum){
      item=name; break;
    }
  }
  inv[item]++; upd();
  notify(`Báº¡n nháº­n Ä‘Æ°á»£c: ${item}`);
  checkAch(item);
}

function triggerRoll(){
  if(!auto) doRoll();
}

function toggleAuto(){
  auto=!auto;
  clearTimeout(autoTimer);
  if(auto){
    autoTimer=setTimeout(autoLoop,delay);
    document.getElementById('rollBtn').disabled=true;
  } else document.getElementById('rollBtn').disabled=false;
}

function autoLoop(){
  doRoll();
  if(auto) autoTimer=setTimeout(autoLoop,delay);
}

function craft(name){
  if(name==='Lucky Ring' && inv['Pha lÃª']>=2 && inv['Sáº¯t']>=1){
    inv['Pha lÃª']-=2;inv['Sáº¯t']--;luck+=5;notify('Craft Lucky Ring! +5 Luck');
  }
  else if(name==='Wind Boots' && inv['ÄÃ¡']>=1 && inv['Sáº¯t']>=1){
    inv['ÄÃ¡']--;inv['Sáº¯t']--;speed+=3;delay=Math.max(300,delay-200);notify('Craft Wind Boots! +3 Speed');
  }
  else if(name==='Soul Hat' && inv['ÄÃ¡ quÃ½']>=1 && inv['Pha lÃª']>=1){
    inv['ÄÃ¡ quÃ½']--;inv['Pha lÃª']--;luck+=10;notify('Craft Soul Hat! +10 Luck');
  }
  else return notify('Thiáº¿u nguyÃªn liá»‡u Ä‘á»ƒ craft');
  upd();
}

function clearAll(){
  if(!confirm('Báº¡n muá»‘n xoÃ¡ táº¥t cáº£ dá»¯ liá»‡u?')) return;
  inv={},rates.forEach(r=>inv[r[0]]=0);
  rollCount=0;luck=1;speed=1;delay=3000;
  clearTimeout(autoTimer);auto=false;document.getElementById('rollBtn').disabled=false;
  upd(); notify('Game reset!');
}

function notify(msg){
  const d=document.getElementById('notif');
  d.textContent=msg;
  setTimeout(()=>{if(d.textContent===msg)d.textContent=''},2000);
}

function checkAch(item){
  if(rollCount===100) notify('ğŸ† ThÃ nh tá»±u: Roll 100 láº§n!');
  if(luck>=20) notify('ğŸ† ThÃ nh tá»±u: Luck â‰¥ 20!');
  if(speed>=10) notify('ğŸ† ThÃ nh tá»±u: Speed â‰¥ 10!');
  if(item==='ÄÃ¡ quÃ½') notify('ğŸ† ThÃ nh tá»±u: Láº¥y Ä‘Æ°á»£c ÄÃ¡ quÃ½!');
}
window.onload=()=>{
  load(); upd();
};
</script>
</body>
</html>
